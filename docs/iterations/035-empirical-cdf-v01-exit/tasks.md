# 任务清单: Empirical CDF V01 止盈止损策略

**迭代编号**: 035
**日期**: 2026-01-12
**状态**: P5完成

---

## 任务列表

### Task-035-001: 创建 EMA 状态止盈策略

**目标**: 实现 `EmaStateExit` 类

**验收标准**:
- [ ] 继承 `IExitCondition` 接口
- [ ] 正确判断 4 种 EMA 状态
- [ ] 实现强势上涨止盈逻辑
- [ ] 实现强势下跌止盈逻辑
- [ ] 实现震荡下跌止盈逻辑
- [ ] 震荡上涨状态不触发止盈

**状态**: ⏳ 待开始

---

### Task-035-002: 扩展 Order 模型

**目标**: 添加 EMA 状态跟踪字段

**验收标准**:
- [ ] 添加 `ema_cross_triggered` 字段
- [ ] 添加 `ema_high_triggered` 字段
- [ ] 字段默认值正确初始化

**状态**: ⏳ 待开始

---

### Task-035-003: 集成 StopLossExit

**目标**: 10% 强制止损

**验收标准**:
- [ ] 配置止损百分比为 10%
- [ ] 止损优先级高于止盈
- [ ] 正确使用收盘价成交

**状态**: ⏳ 待开始

---

### Task-035-004: 创建策略配置

**目标**: 创建 `strategy_empirical_cdf_v01.json`

**验收标准**:
- [ ] 配置入场参数 (Prob ≤ 5%)
- [ ] 配置 EMA 状态止盈
- [ ] 配置 10% 止损
- [ ] 支持 run_strategy_backtest 命令

**状态**: ⏳ 待开始

---

### Task-035-005: 回测验证

**目标**: 验证策略效果

**验收标准**:
- [ ] 回测执行成功
- [ ] 回测结果合理
- [ ] 无错误日志

**状态**: ⏳ 待开始

---

## 任务依赖

```
Task-035-001 (EmaStateExit)
    │
    ├──► Task-035-002 (Order扩展) [并行]
    │
    ├──► Task-035-003 (StopLossExit) [并行]
    │
    └──► Task-035-004 (策略配置)
            │
            └──► Task-035-005 (回测验证)
```

---

## 时间估算

| 任务 | 估算时间 |
|------|----------|
| Task-035-001 | 4小时 |
| Task-035-002 | 1小时 |
| Task-035-003 | 1小时 |
| Task-035-004 | 1小时 |
| Task-035-005 | 2小时 |
| **总计** | **9小时 (≈1天)** |
