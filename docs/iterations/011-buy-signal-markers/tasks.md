# å¼€å‘ä»»åŠ¡è§„åˆ’ - Kçº¿å›¾ä¹°å…¥ç‚¹æ ‡è®°ç³»ç»Ÿ

**è¿­ä»£ç¼–å·**: 011
**åˆ†æ”¯**: 011-buy-signal-markers
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0
**åˆ›å»ºæ—¥æœŸ**: 2026-01-06
**ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ**: P5 - ä»»åŠ¡è§„åˆ’

---

## ä»»åŠ¡æ¦‚è§ˆ

| ç»Ÿè®¡é¡¹ | æ•°å€¼ |
|-------|------|
| æ€»ä»»åŠ¡æ•° | 11 |
| P0ä»»åŠ¡ | 9 |
| P1ä»»åŠ¡ | 2 |
| é¢„ä¼°æ€»å·¥æ—¶ | 2å¤© |

### ä»»åŠ¡åˆ†å±‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: åŸå­æœåŠ¡å±‚ (Atomic Services)                        â”‚
â”‚  â””â”€ TASK-001: BuySignalCalculator æ ¸å¿ƒè®¡ç®—å™¨                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer 2: æœåŠ¡ç¼–æ’å±‚ (Service Orchestration)                  â”‚
â”‚  â””â”€ TASK-002: ChartDataService APIæ‰©å±•                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer 3: å‰ç«¯è¡¨ç°å±‚ (Frontend Presentation)                  â”‚
â”‚  â”œâ”€ TASK-003: ä¹°å…¥ç‚¹Markersæ¸²æŸ“                              â”‚
â”‚  â”œâ”€ TASK-004: Hoveræ‚¬æµ®Card                                  â”‚
â”‚  â”œâ”€ TASK-005: Clickå›ºå®šCard                                  â”‚
â”‚  â””â”€ TASK-006: ç­–ç•¥ç­›é€‰æ§ä»¶                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer 4: æµ‹è¯•ä¸è´¨é‡ (Testing & Quality)                      â”‚
â”‚  â”œâ”€ TASK-007: å•å…ƒæµ‹è¯• - BuySignalCalculator                 â”‚
â”‚  â”œâ”€ TASK-008: é›†æˆæµ‹è¯• - APIå“åº”                              â”‚
â”‚  â””â”€ TASK-009: E2Eæµ‹è¯• - å‰ç«¯äº¤äº’                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer 5: æ–‡æ¡£ä¸äº¤ä»˜ (Documentation & Delivery)               â”‚
â”‚  â”œâ”€ TASK-010: æ¨¡å—å¯¼å‡ºé…ç½®                                    â”‚
â”‚  â””â”€ TASK-011: å›å½’æµ‹è¯•ä¸éªŒæ”¶                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¾èµ–å…³ç³»å›¾

```mermaid
graph TD
    subgraph "Layer 1: åŸå­æœåŠ¡"
        T1["TASK-001<br/>BuySignalCalculator<br/>â±ï¸ 0.5å¤©"]
    end

    subgraph "Layer 2: æœåŠ¡ç¼–æ’"
        T2["TASK-002<br/>ChartDataServiceæ‰©å±•<br/>â±ï¸ 0.3å¤©"]
    end

    subgraph "Layer 3: å‰ç«¯è¡¨ç°"
        T3["TASK-003<br/>Markersæ¸²æŸ“<br/>â±ï¸ 0.2å¤©"]
        T4["TASK-004<br/>Hover Card<br/>â±ï¸ 0.15å¤©"]
        T5["TASK-005<br/>Click Card<br/>â±ï¸ 0.1å¤©"]
        T6["TASK-006<br/>ç­›é€‰æ§ä»¶<br/>â±ï¸ 0.15å¤©"]
    end

    subgraph "Layer 4: æµ‹è¯•è´¨é‡"
        T7["TASK-007<br/>å•å…ƒæµ‹è¯•<br/>â±ï¸ 0.2å¤©"]
        T8["TASK-008<br/>é›†æˆæµ‹è¯•<br/>â±ï¸ 0.1å¤©"]
        T9["TASK-009<br/>E2Eæµ‹è¯•<br/>â±ï¸ 0.1å¤©"]
    end

    subgraph "Layer 5: äº¤ä»˜"
        T10["TASK-010<br/>æ¨¡å—å¯¼å‡º<br/>â±ï¸ 0.05å¤©"]
        T11["TASK-011<br/>å›å½’éªŒæ”¶<br/>â±ï¸ 0.15å¤©"]
    end

    T1 --> T2
    T1 --> T7
    T2 --> T3
    T2 --> T8
    T3 --> T4
    T3 --> T5
    T3 --> T6
    T4 --> T5
    T4 --> T9
    T6 --> T9
    T7 --> T8
    T8 --> T9
    T1 --> T10
    T9 --> T11

    style T1 fill:#90EE90
    style T2 fill:#FFD700
    style T3 fill:#87CEEB
    style T4 fill:#87CEEB
    style T5 fill:#87CEEB
    style T6 fill:#87CEEB
```

**å›¾ä¾‹**ï¼š
- ğŸŸ¢ ç»¿è‰²: åŸå­æœåŠ¡ï¼ˆæ ¸å¿ƒè®¡ç®—ï¼‰
- ğŸŸ¡ é»„è‰²: æœåŠ¡ç¼–æ’ï¼ˆAPIï¼‰
- ğŸ”µ è“è‰²: å‰ç«¯è¡¨ç°ï¼ˆUIï¼‰

---

## å…³é”®è·¯å¾„åˆ†æ

**å…³é”®è·¯å¾„**: TASK-001 â†’ TASK-002 â†’ TASK-003 â†’ TASK-004 â†’ TASK-009 â†’ TASK-011

**å…³é”®è·¯å¾„å·¥æ—¶**: 0.5 + 0.3 + 0.2 + 0.15 + 0.1 + 0.15 = **1.4å¤©**

**å¹¶è¡Œå¼€å‘æœºä¼š**:
- TASK-007ï¼ˆå•å…ƒæµ‹è¯•ï¼‰å¯ä¸ TASK-002 å¹¶è¡Œ
- TASK-006ï¼ˆç­›é€‰æ§ä»¶ï¼‰å¯ä¸ TASK-004/005 å¹¶è¡Œ

---

## è¯¦ç»†ä»»åŠ¡æ¸…å•

### TASK-001: BuySignalCalculator æ ¸å¿ƒè®¡ç®—å™¨

**ä¼˜å…ˆçº§**: P0 | **é¢„ä¼°å·¥æ—¶**: 0.5å¤© | **çŠ¶æ€**: [ ] å¾…å¼€å§‹

**ä»»åŠ¡æè¿°**:
åˆ›å»ºä¹°å…¥ä¿¡å·è®¡ç®—å™¨ï¼Œå®ç°ç­–ç•¥1ï¼ˆEMAæ–œç‡æœªæ¥é¢„æµ‹ï¼‰å’Œç­–ç•¥2ï¼ˆæƒ¯æ€§ä¸‹è·Œä¸­å€¼çªç ´ï¼‰çš„æ ¸å¿ƒè®¡ç®—é€»è¾‘ã€‚

**æ–‡ä»¶å˜æ›´**:
| æ–‡ä»¶ | æ“ä½œ | å˜æ›´å†…å®¹ |
|------|------|----------|
| `ddps_z/calculators/buy_signal_calculator.py` | ğŸ†• æ–°å»º | å®Œæ•´è®¡ç®—å™¨å®ç° |

**æ¥å£å¥‘çº¦**:
```python
class BuySignalCalculator:
    """ä¹°å…¥ä¿¡å·è®¡ç®—å™¨ - è®¡ç®—ç­–ç•¥1å’Œç­–ç•¥2çš„è§¦å‘ä¿¡å·"""

    def calculate(
        self,
        klines: List[Dict],      # Kçº¿OHLCæ•°æ®
        ema_series: np.ndarray,  # EMAåºåˆ—
        p5_series: np.ndarray,   # P5ä»·æ ¼åºåˆ—
        beta_series: np.ndarray, # Î²æ–œç‡åºåˆ—
        inertia_mid_series: np.ndarray  # æƒ¯æ€§midåºåˆ—
    ) -> List[Dict]:
        """
        è®¡ç®—ä¹°å…¥ä¿¡å·

        Returns:
            List[Dict]: ä¹°å…¥ä¿¡å·åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ åŒ…å«:
            - timestamp: int (æ¯«ç§’æ—¶é—´æˆ³)
            - kline_index: int (Kçº¿ç´¢å¼•)
            - strategies: List[Dict] (ç­–ç•¥è§¦å‘ä¿¡æ¯)
            - buy_price: float (ä¹°å…¥ä»·æ ¼)
        """
        pass
```

**æ ¸å¿ƒç®—æ³•**:

**ç­–ç•¥1: EMAæ–œç‡æœªæ¥é¢„æµ‹**
```python
# 1. è®¡ç®—Î²æ–œç‡ï¼ˆå•å‘¨æœŸå·®åˆ†ï¼‰
Î² = ema_series[t] - ema_series[t-1]

# 2. é¢„æµ‹æœªæ¥6å‘¨æœŸEMA
future_ema = ema_series[t] + (Î² * 6)

# 3. åˆ¤æ–­è§¦å‘
if (kline['low'] < p5_series[t]) and (future_ema > kline['close']):
    triggered = True
    buy_price = kline['close']
```

**ç­–ç•¥2: æƒ¯æ€§ä¸‹è·Œä¸­å€¼çªç ´**
```python
# 1. åˆ¤æ–­ä¸‹è·Œè¶‹åŠ¿
if beta_series[t] < 0:
    # 2. è®¡ç®—ä¸­å€¼çº¿
    mid_line = (inertia_mid_series[t] + p5_series[t]) / 2

    # 3. åˆ¤æ–­è§¦å‘
    if (inertia_mid_series[t] < p5_series[t]) and (kline['low'] < mid_line):
        triggered = True
        buy_price = kline['close']
```

**å¼‚å¸¸å¤„ç†**:
- `ERR_DATA_INSUFFICIENT`: è¾“å…¥åºåˆ—é•¿åº¦ä¸è¶³æˆ–ä¸ä¸€è‡´
- `ERR_INVALID_BETA`: Î²åºåˆ—åŒ…å«NaNæˆ–Inf
- `ERR_INVALID_KLINE`: Kçº¿æ•°æ®ç¼ºå°‘å¿…è¦å­—æ®µ

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç­–ç•¥1æ­£ç¡®è§¦å‘ï¼šlow < P5 ä¸” æœªæ¥EMA > close
- [ ] ç­–ç•¥1ä¸è§¦å‘ï¼šlow >= P5 æˆ– æœªæ¥EMA <= close
- [ ] ç­–ç•¥2æ­£ç¡®è§¦å‘ï¼šÎ² < 0 ä¸” æƒ¯æ€§mid < P5 ä¸” low < ä¸­å€¼çº¿
- [ ] ç­–ç•¥2ä¸è§¦å‘ï¼šÎ² >= 0 æˆ– æƒ¯æ€§mid >= P5 æˆ– low >= ä¸­å€¼çº¿
- [ ] æ•°æ®ä¸è¶³æ—¶æŠ›å‡ºERR_DATA_INSUFFICIENT
- [ ] Î²åºåˆ—åŒ…å«NaNæ—¶æŠ›å‡ºERR_INVALID_BETA
- [ ] è¿”å›æ•°æ®ç»“æ„ç¬¦åˆæ¥å£å¥‘çº¦

**ä¾èµ–å…³ç³»**:
- ä¾èµ–: æ— ï¼ˆèµ·ç‚¹ä»»åŠ¡ï¼‰
- è¢«ä¾èµ–: TASK-002, TASK-007, TASK-010

**å¯¹åº”åŠŸèƒ½ç‚¹**: F1.1, F1.2, F1.3

---

### TASK-002: ChartDataService APIæ‰©å±•

**ä¼˜å…ˆçº§**: P0 | **é¢„ä¼°å·¥æ—¶**: 0.3å¤© | **çŠ¶æ€**: [ ] å¾…å¼€å§‹

**ä»»åŠ¡æè¿°**:
æ‰©å±•ChartDataServiceçš„get_chart_data()æ–¹æ³•ï¼Œåœ¨è¿”å›çš„chartå¯¹è±¡ä¸­æ–°å¢buy_signalså­—æ®µã€‚

**æ–‡ä»¶å˜æ›´**:
| æ–‡ä»¶ | æ“ä½œ | å˜æ›´å†…å®¹ |
|------|------|----------|
| `ddps_z/services/chart_data_service.py` | ğŸ“ æ‰©å±• | æ–°å¢ `_generate_buy_signals_data()` æ–¹æ³•ï¼Œä¿®æ”¹ `get_chart_data()` è¿”å›å€¼ |

**å®ç°è¦ç‚¹**:

1. **å¯¼å…¥BuySignalCalculator**:
```python
from ddps_z.calculators.buy_signal_calculator import BuySignalCalculator
```

2. **åˆå§‹åŒ–è®¡ç®—å™¨**ï¼ˆåœ¨ `__init__` ä¸­ï¼‰:
```python
self.buy_signal_calculator = BuySignalCalculator()
```

3. **æ–°å¢ç§æœ‰æ–¹æ³•**:
```python
def _generate_buy_signals_data(
    self,
    klines: List[Dict],
    ema_series: np.ndarray,
    p5_series: np.ndarray,
    beta_series: np.ndarray,
    inertia_mid_series: np.ndarray
) -> List[Dict]:
    """ç”Ÿæˆä¹°å…¥ä¿¡å·æ•°æ®"""
    try:
        return self.buy_signal_calculator.calculate(
            klines=klines,
            ema_series=ema_series,
            p5_series=p5_series,
            beta_series=beta_series,
            inertia_mid_series=inertia_mid_series
        )
    except Exception as e:
        logger.exception(f"ä¹°å…¥ä¿¡å·è®¡ç®—å¤±è´¥: {e}")
        return []
```

4. **ä¿®æ”¹get_chart_data()è¿”å›å€¼**:
```python
return {
    'success': True,
    'chart': {
        'candles': klines,
        'ema': ema_data,
        'bands': bands,
        'zscore': zscore_data,
        'fan': fan_data,
        'buy_signals': buy_signals_data  # ğŸ†• æ–°å¢å­—æ®µ
    },
    'meta': {...}
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] APIå“åº”åŒ…å«buy_signalså­—æ®µ
- [ ] buy_signalsæ•°æ®ç»“æ„ç¬¦åˆarchitecture.mdå®šä¹‰
- [ ] ç°æœ‰å­—æ®µï¼ˆcandles, ema, bands, zscore, fanï¼‰å®Œå…¨ä¸å˜
- [ ] è®¡ç®—å¼‚å¸¸æ—¶è¿”å›ç©ºæ•°ç»„ï¼Œä¸å½±å“æ•´ä½“å“åº”
- [ ] å“åº”æ—¶é—´å¢é‡ < 50ms

**ä¾èµ–å…³ç³»**:
- ä¾èµ–: TASK-001
- è¢«ä¾èµ–: TASK-003, TASK-008

**å¯¹åº”åŠŸèƒ½ç‚¹**: F4.1

---

### TASK-003: ä¹°å…¥ç‚¹Markersæ¸²æŸ“

**ä¼˜å…ˆçº§**: P0 | **é¢„ä¼°å·¥æ—¶**: 0.2å¤© | **çŠ¶æ€**: [ ] å¾…å¼€å§‹

**ä»»åŠ¡æè¿°**:
åœ¨detail.htmlä¸­ä½¿ç”¨LightweightChartsçš„Markers APIæ¸²æŸ“ä¹°å…¥ç‚¹æ ‡è®°ã€‚

**æ–‡ä»¶å˜æ›´**:
| æ–‡ä»¶ | æ“ä½œ | å˜æ›´å†…å®¹ |
|------|------|----------|
| `ddps_z/templates/ddps_z/detail.html` | ğŸ“ æ‰©å±• | æ–°å¢Markersæ¸²æŸ“é€»è¾‘ |

**å®ç°è¦ç‚¹**:

1. **æ•°æ®å­˜å‚¨**ï¼ˆå…¨å±€å˜é‡ï¼‰:
```javascript
let buySignalsData = [];  // åŸå§‹ä¹°å…¥ä¿¡å·æ•°æ®
let currentFilter = 'all';  // å½“å‰ç­›é€‰çŠ¶æ€
```

2. **Markersæ¸²æŸ“å‡½æ•°**:
```javascript
function renderBuySignalMarkers(buySignals, filter = 'all') {
    // æ ¹æ®ç­›é€‰æ¡ä»¶è¿‡æ»¤
    const filteredSignals = buySignals.filter(signal => {
        if (filter === 'all') return true;
        return signal.strategies.some(s => s.id === filter && s.triggered);
    });

    // è½¬æ¢ä¸ºLightweightCharts Markersæ ¼å¼
    const markers = filteredSignals.map(signal => ({
        time: signal.timestamp / 1000,  // æ¯«ç§’è½¬ç§’
        position: 'belowBar',
        color: '#28a745',
        shape: 'arrowUp',
        text: 'B',
        size: 1
    }));

    // åº”ç”¨Markers
    candleSeries.setMarkers(markers);
}
```

3. **åœ¨æ•°æ®åŠ è½½å®Œæˆåè°ƒç”¨**:
```javascript
// åœ¨fetchChartDataæˆåŠŸå›è°ƒä¸­
buySignalsData = response.chart.buy_signals || [];
renderBuySignalMarkers(buySignalsData, currentFilter);
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰è§¦å‘ç‚¹éƒ½æ­£ç¡®æ ‡è®°åœ¨æ—¶é—´è½´ä¸Š
- [ ] æ ‡è®°é¢œè‰²ä¸ºç»¿è‰² #28a745
- [ ] æ ‡è®°å›¾æ ‡ä¸ºå‘ä¸Šç®­å¤´
- [ ] æ ‡è®°ä½ç½®åœ¨Kçº¿ä¸‹æ–¹
- [ ] æ ‡è®°ä¸é®æŒ¡Kçº¿å†…å®¹
- [ ] æ—¶é—´èŒƒå›´åˆ‡æ¢åæ­£ç¡®æ›´æ–°

**ä¾èµ–å…³ç³»**:
- ä¾èµ–: TASK-002
- è¢«ä¾èµ–: TASK-004, TASK-005, TASK-006

**å¯¹åº”åŠŸèƒ½ç‚¹**: F2.1, F3.1

---

### TASK-004: Hoveræ‚¬æµ®Card

**ä¼˜å…ˆçº§**: P0 | **é¢„ä¼°å·¥æ—¶**: 0.15å¤© | **çŠ¶æ€**: [ ] å¾…å¼€å§‹

**ä»»åŠ¡æè¿°**:
å®ç°é¼ æ ‡æ‚¬åœåœ¨ä¹°å…¥ç‚¹æ ‡è®°æ—¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯Cardã€‚

**æ–‡ä»¶å˜æ›´**:
| æ–‡ä»¶ | æ“ä½œ | å˜æ›´å†…å®¹ |
|------|------|----------|
| `ddps_z/templates/ddps_z/detail.html` | ğŸ“ æ‰©å±• | æ–°å¢Hover Card HTMLå’ŒJSé€»è¾‘ |

**å®ç°è¦ç‚¹**:

1. **Card HTMLæ¨¡æ¿**:
```html
<!-- ä¹°å…¥ä¿¡å·æ‚¬æµ®Card -->
<div id="buySignalCard" class="buy-signal-card" style="display: none;">
    <div class="card">
        <div class="card-header">
            <span class="card-title">ğŸ“Š ä¹°å…¥ä¿¡å·è¯¦æƒ…</span>
            <button type="button" class="btn-close btn-close-sm" id="closeCardBtn"></button>
        </div>
        <div class="card-body">
            <div class="signal-info">
                <div class="info-row">
                    <span class="label">ğŸ• è§¦å‘æ—¶é—´:</span>
                    <span class="value" id="signalTime"></span>
                </div>
                <div class="info-row">
                    <span class="label">ğŸ’° ä¹°å…¥ä»·æ ¼:</span>
                    <span class="value" id="signalPrice"></span>
                </div>
            </div>
            <hr>
            <div class="strategies-section">
                <div class="section-title">âœ… è§¦å‘ç­–ç•¥:</div>
                <div id="strategiesList"></div>
            </div>
        </div>
    </div>
</div>
```

2. **Card CSSæ ·å¼**:
```css
.buy-signal-card {
    position: fixed;
    z-index: 1000;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    min-width: 300px;
    max-width: 400px;
}
.buy-signal-card .card-header {
    background: #f8f9fa;
    padding: 8px 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.buy-signal-card .card-body {
    padding: 12px;
}
.info-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 4px;
}
.strategy-item {
    margin-bottom: 8px;
    padding: 8px;
    background: #f8f9fa;
    border-radius: 4px;
}
.strategy-name {
    font-weight: bold;
    color: #28a745;
}
.strategy-reason {
    font-size: 0.9em;
    color: #666;
    margin-top: 4px;
}
```

3. **Hoveräº‹ä»¶ç›‘å¬**:
```javascript
let hoverCardVisible = false;
let fixedCardVisible = false;

function findBuySignalByTime(time) {
    return buySignalsData.find(signal =>
        Math.abs(signal.timestamp / 1000 - time) < 1
    );
}

chart.subscribeCrosshairMove((param) => {
    if (fixedCardVisible) return;  // å›ºå®šCardæ—¶ä¸å“åº”Hover

    if (!param.time) {
        hideBuySignalCard();
        return;
    }

    const signal = findBuySignalByTime(param.time);
    if (signal && hasTriggeredStrategies(signal)) {
        showBuySignalCard(signal, param.point);
        hoverCardVisible = true;
    } else {
        hideBuySignalCard();
        hoverCardVisible = false;
    }
});
```

4. **Cardæ˜¾ç¤ºé€»è¾‘**:
```javascript
function showBuySignalCard(signal, point) {
    const card = document.getElementById('buySignalCard');

    // æ ¼å¼åŒ–æ—¶é—´
    document.getElementById('signalTime').textContent =
        formatDateTime(signal.timestamp);

    // æ ¼å¼åŒ–ä»·æ ¼
    document.getElementById('signalPrice').textContent =
        formatPrice(signal.buy_price);

    // æ¸²æŸ“ç­–ç•¥åˆ—è¡¨
    const strategiesHtml = signal.strategies
        .filter(s => s.triggered)
        .map(s => `
            <div class="strategy-item">
                <div class="strategy-name">${s.name}</div>
                <div class="strategy-reason">${s.reason}</div>
            </div>
        `).join('');
    document.getElementById('strategiesList').innerHTML = strategiesHtml;

    // è®¡ç®—ä½ç½®ï¼ˆé¿å…è¶…å‡ºè¾¹ç•Œï¼‰
    const chartRect = document.getElementById('chart').getBoundingClientRect();
    let left = chartRect.left + point.x + 20;
    let top = chartRect.top + point.y - 100;

    // è¾¹ç•Œæ£€æµ‹
    if (left + 350 > window.innerWidth) {
        left = chartRect.left + point.x - 370;
    }
    if (top < 0) {
        top = 20;
    }

    card.style.left = left + 'px';
    card.style.top = top + 'px';
    card.style.display = 'block';
}

function hideBuySignalCard() {
    if (!fixedCardVisible) {
        document.getElementById('buySignalCard').style.display = 'none';
    }
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‚¬åœåœ¨ä¹°å…¥ç‚¹æ—¶ç«‹å³æ˜¾ç¤ºCardï¼ˆå»¶è¿Ÿ < 100msï¼‰
- [ ] Cardæ ·å¼ç¬¦åˆè®¾è®¡è¦æ±‚ï¼ˆç™½è‰²èƒŒæ™¯ã€åœ†è§’ã€é˜´å½±ï¼‰
- [ ] è§¦å‘æ—¶é—´æ ¼å¼æ­£ç¡®ï¼ˆYYYY-MM-DD HH:mm:ssï¼‰
- [ ] ä¹°å…¥ä»·æ ¼æ ¼å¼æ­£ç¡®ï¼ˆåƒåˆ†ä½ã€å°æ•°ç‚¹ï¼‰
- [ ] æ‰€æœ‰è§¦å‘ç­–ç•¥éƒ½æ­£ç¡®æ˜¾ç¤º
- [ ] ç­–ç•¥åŸå› æè¿°æ¸…æ™°æ˜“æ‡‚
- [ ] é¼ æ ‡ç§»å¼€åCardè‡ªåŠ¨éšè—
- [ ] Cardä¸è¶…å‡ºå›¾è¡¨è¾¹ç•Œ

**ä¾èµ–å…³ç³»**:
- ä¾èµ–: TASK-003
- è¢«ä¾èµ–: TASK-005, TASK-009

**å¯¹åº”åŠŸèƒ½ç‚¹**: F2.2

---

### TASK-005: Clickå›ºå®šCard

**ä¼˜å…ˆçº§**: P0 | **é¢„ä¼°å·¥æ—¶**: 0.1å¤© | **çŠ¶æ€**: [ ] å¾…å¼€å§‹

**ä»»åŠ¡æè¿°**:
å®ç°ç‚¹å‡»ä¹°å…¥ç‚¹æ ‡è®°å›ºå®šæ˜¾ç¤ºCardï¼Œç‚¹å‡»å…¶ä»–åŒºåŸŸæˆ–æŒ‰ESCå…³é—­ã€‚

**æ–‡ä»¶å˜æ›´**:
| æ–‡ä»¶ | æ“ä½œ | å˜æ›´å†…å®¹ |
|------|------|----------|
| `ddps_z/templates/ddps_z/detail.html` | ğŸ“ æ‰©å±• | æ–°å¢Clickå›ºå®šCardé€»è¾‘ |

**å®ç°è¦ç‚¹**:

1. **Clickäº‹ä»¶ç›‘å¬**:
```javascript
chart.subscribeClick((param) => {
    if (!param.time) {
        closeFixedCard();
        return;
    }

    const signal = findBuySignalByTime(param.time);
    if (signal && hasTriggeredStrategies(signal)) {
        showFixedCard(signal, param.point);
    } else {
        closeFixedCard();
    }
});
```

2. **å›ºå®šCardé€»è¾‘**:
```javascript
function showFixedCard(signal, point) {
    fixedCardVisible = true;
    showBuySignalCard(signal, point);
    document.getElementById('buySignalCard').classList.add('fixed');
}

function closeFixedCard() {
    fixedCardVisible = false;
    document.getElementById('buySignalCard').classList.remove('fixed');
    document.getElementById('buySignalCard').style.display = 'none';
}
```

3. **ESCé”®ç›‘å¬**:
```javascript
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        closeFixedCard();
    }
});
```

4. **å…³é—­æŒ‰é’®**:
```javascript
document.getElementById('closeCardBtn').addEventListener('click', () => {
    closeFixedCard();
});
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç‚¹å‡»ä¹°å…¥ç‚¹æ ‡è®°å›ºå®šæ˜¾ç¤ºCard
- [ ] Cardå†…å®¹ä¸Hoverä¸€è‡´
- [ ] ç‚¹å‡»å…¶ä»–åŒºåŸŸå…³é—­Card
- [ ] æŒ‰ESCé”®å…³é—­Card
- [ ] ç‚¹å‡»å…³é—­æŒ‰é’®å…³é—­Card
- [ ] åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªå›ºå®šCard
- [ ] å›ºå®šCardæ—¶Hoverä¸è§¦å‘æ–°Card

**ä¾èµ–å…³ç³»**:
- ä¾èµ–: TASK-004
- è¢«ä¾èµ–: æ— 

**å¯¹åº”åŠŸèƒ½ç‚¹**: F2.3

---

### TASK-006: ç­–ç•¥ç­›é€‰æ§ä»¶

**ä¼˜å…ˆçº§**: P0 | **é¢„ä¼°å·¥æ—¶**: 0.15å¤© | **çŠ¶æ€**: [ ] å¾…å¼€å§‹

**ä»»åŠ¡æè¿°**:
åœ¨å›¾è¡¨ä¸Šæ–¹æ§åˆ¶æ æ·»åŠ ç­–ç•¥ç­›é€‰æŒ‰é’®ç»„ã€‚

**æ–‡ä»¶å˜æ›´**:
| æ–‡ä»¶ | æ“ä½œ | å˜æ›´å†…å®¹ |
|------|------|----------|
| `ddps_z/templates/ddps_z/detail.html` | ğŸ“ æ‰©å±• | æ–°å¢ç­›é€‰æ§ä»¶HTMLå’ŒJSé€»è¾‘ |

**å®ç°è¦ç‚¹**:

1. **ç­›é€‰æ§ä»¶HTML**ï¼ˆæ”¾åœ¨æ§åˆ¶æ é€‚å½“ä½ç½®ï¼‰:
```html
<!-- ä¹°å…¥ç‚¹ç­–ç•¥ç­›é€‰ -->
<div class="btn-group ms-3" role="group" aria-label="ä¹°å…¥ç‚¹ç­–ç•¥ç­›é€‰">
    <button type="button" class="btn btn-outline-success btn-sm active"
            data-filter="all" id="filterAll">å…¨éƒ¨</button>
    <button type="button" class="btn btn-outline-success btn-sm"
            data-filter="strategy_1" id="filterStrategy1">ç­–ç•¥1</button>
    <button type="button" class="btn btn-outline-success btn-sm"
            data-filter="strategy_2" id="filterStrategy2">ç­–ç•¥2</button>
</div>
```

2. **ç­›é€‰é€»è¾‘**:
```javascript
// ä»localStorageæ¢å¤ç­›é€‰çŠ¶æ€
function initFilterState() {
    const savedFilter = localStorage.getItem('buySignalFilter') || 'all';
    setFilter(savedFilter);
}

function setFilter(filter) {
    currentFilter = filter;

    // æ›´æ–°æŒ‰é’®çŠ¶æ€
    document.querySelectorAll('[data-filter]').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.filter === filter);
    });

    // é‡æ–°æ¸²æŸ“Markers
    renderBuySignalMarkers(buySignalsData, filter);

    // ä¿å­˜åˆ°localStorage
    localStorage.setItem('buySignalFilter', filter);
}

// ç»‘å®šç‚¹å‡»äº‹ä»¶
document.querySelectorAll('[data-filter]').forEach(btn => {
    btn.addEventListener('click', () => {
        setFilter(btn.dataset.filter);
    });
});

// é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', () => {
    initFilterState();
});
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç­›é€‰æŒ‰é’®ä½ç½®æ­£ç¡®ï¼ˆæ§åˆ¶æ ä¸­ï¼‰
- [ ] é»˜è®¤é€‰ä¸­"å…¨éƒ¨"
- [ ] ç‚¹å‡»åæ­£ç¡®éšè—/æ˜¾ç¤ºå¯¹åº”ç­–ç•¥æ ‡è®°
- [ ] æŒ‰é’®çŠ¶æ€æ­£ç¡®åˆ‡æ¢ï¼ˆactive classï¼‰
- [ ] ç­›é€‰çŠ¶æ€æŒä¹…åŒ–åˆ°localStorage
- [ ] åˆ·æ–°é¡µé¢åä¿æŒç­›é€‰çŠ¶æ€
- [ ] åŒä¸€æ—¶åˆ»åªèƒ½é€‰ä¸­ä¸€ä¸ªæŒ‰é’®

**ä¾èµ–å…³ç³»**:
- ä¾èµ–: TASK-003
- è¢«ä¾èµ–: TASK-009

**å¯¹åº”åŠŸèƒ½ç‚¹**: F2.4

---

### TASK-007: å•å…ƒæµ‹è¯• - BuySignalCalculator

**ä¼˜å…ˆçº§**: P0 | **é¢„ä¼°å·¥æ—¶**: 0.2å¤© | **çŠ¶æ€**: [ ] å¾…å¼€å§‹

**ä»»åŠ¡æè¿°**:
ä¸ºBuySignalCalculatorç¼–å†™å®Œæ•´çš„å•å…ƒæµ‹è¯•ã€‚

**æ–‡ä»¶å˜æ›´**:
| æ–‡ä»¶ | æ“ä½œ | å˜æ›´å†…å®¹ |
|------|------|----------|
| `ddps_z/tests/test_buy_signal_calculator.py` | ğŸ†• æ–°å»º | å®Œæ•´å•å…ƒæµ‹è¯• |

**æµ‹è¯•ç”¨ä¾‹æ¸…å•**:

```python
class TestBuySignalCalculator(TestCase):
    """BuySignalCalculatorå•å…ƒæµ‹è¯•"""

    def setUp(self):
        """åˆå§‹åŒ–æµ‹è¯•æ•°æ®"""
        self.calculator = BuySignalCalculator()
        # å‡†å¤‡æµ‹è¯•æ•°æ®...

    # ===== ç­–ç•¥1æµ‹è¯• =====

    def test_strategy1_triggered_when_low_below_p5_and_future_ema_above_close(self):
        """ç­–ç•¥1æ­£å¸¸è§¦å‘ï¼šlow < P5 ä¸” æœªæ¥EMA > close"""
        pass

    def test_strategy1_not_triggered_when_low_above_p5(self):
        """ç­–ç•¥1ä¸è§¦å‘ï¼šlow >= P5"""
        pass

    def test_strategy1_not_triggered_when_future_ema_below_close(self):
        """ç­–ç•¥1ä¸è§¦å‘ï¼šæœªæ¥EMA <= close"""
        pass

    def test_strategy1_beta_calculation_accuracy(self):
        """ç­–ç•¥1: Î²æ–œç‡è®¡ç®—ç²¾åº¦éªŒè¯"""
        pass

    def test_strategy1_future_ema_calculation_accuracy(self):
        """ç­–ç•¥1: æœªæ¥EMAé¢„æµ‹è®¡ç®—ç²¾åº¦éªŒè¯"""
        pass

    # ===== ç­–ç•¥2æµ‹è¯• =====

    def test_strategy2_triggered_when_downtrend_and_mid_below_p5_and_low_below_midline(self):
        """ç­–ç•¥2æ­£å¸¸è§¦å‘ï¼šÎ² < 0 ä¸” æƒ¯æ€§mid < P5 ä¸” low < ä¸­å€¼çº¿"""
        pass

    def test_strategy2_not_triggered_when_uptrend(self):
        """ç­–ç•¥2ä¸è§¦å‘ï¼šÎ² >= 0ï¼ˆéä¸‹è·Œè¶‹åŠ¿ï¼‰"""
        pass

    def test_strategy2_not_triggered_when_inertia_mid_above_p5(self):
        """ç­–ç•¥2ä¸è§¦å‘ï¼šæƒ¯æ€§mid >= P5"""
        pass

    def test_strategy2_not_triggered_when_low_above_midline(self):
        """ç­–ç•¥2ä¸è§¦å‘ï¼šlow >= ä¸­å€¼çº¿"""
        pass

    def test_strategy2_midline_calculation_accuracy(self):
        """ç­–ç•¥2: ä¸­å€¼çº¿è®¡ç®—ç²¾åº¦éªŒè¯"""
        pass

    # ===== å¤šç­–ç•¥å¹¶å­˜æµ‹è¯• =====

    def test_both_strategies_triggered_simultaneously(self):
        """ä¸¤ä¸ªç­–ç•¥åŒæ—¶è§¦å‘"""
        pass

    def test_buy_price_consistent_when_both_triggered(self):
        """å¤šç­–ç•¥è§¦å‘æ—¶buy_priceä¸€è‡´"""
        pass

    # ===== è¾¹ç•Œæ¡ä»¶æµ‹è¯• =====

    def test_beta_equals_zero(self):
        """è¾¹ç•Œæ¡ä»¶ï¼šÎ² = 0"""
        pass

    def test_low_equals_p5(self):
        """è¾¹ç•Œæ¡ä»¶ï¼šlow = P5ï¼ˆä¸è§¦å‘ï¼‰"""
        pass

    def test_inertia_mid_equals_p5(self):
        """è¾¹ç•Œæ¡ä»¶ï¼šæƒ¯æ€§mid = P5ï¼ˆä¸è§¦å‘ç­–ç•¥2ï¼‰"""
        pass

    # ===== å¼‚å¸¸å¤„ç†æµ‹è¯• =====

    def test_raises_error_when_data_insufficient(self):
        """æ•°æ®ä¸è¶³æ—¶æŠ›å‡ºERR_DATA_INSUFFICIENT"""
        pass

    def test_raises_error_when_beta_contains_nan(self):
        """Î²åºåˆ—åŒ…å«NaNæ—¶æŠ›å‡ºERR_INVALID_BETA"""
        pass

    def test_raises_error_when_kline_missing_fields(self):
        """Kçº¿æ•°æ®ç¼ºå°‘å¿…è¦å­—æ®µæ—¶æŠ›å‡ºERR_INVALID_KLINE"""
        pass

    def test_raises_error_when_series_length_mismatch(self):
        """è¾“å…¥åºåˆ—é•¿åº¦ä¸ä¸€è‡´æ—¶æŠ›å‡ºé”™è¯¯"""
        pass

    # ===== æ•°æ®ç»“æ„æµ‹è¯• =====

    def test_output_structure_matches_contract(self):
        """è¾“å‡ºæ•°æ®ç»“æ„ç¬¦åˆæ¥å£å¥‘çº¦"""
        pass

    def test_strategy_id_naming_convention(self):
        """ç­–ç•¥IDå‘½åè§„èŒƒï¼ˆstrategy_1, strategy_2ï¼‰"""
        pass
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡
- [ ] ä»£ç è¦†ç›–ç‡ >= 90%
- [ ] è¾¹ç•Œæ¡ä»¶å…¨è¦†ç›–
- [ ] å¼‚å¸¸åœºæ™¯å…¨è¦†ç›–

**ä¾èµ–å…³ç³»**:
- ä¾èµ–: TASK-001
- è¢«ä¾èµ–: TASK-008

**å¯¹åº”åŠŸèƒ½ç‚¹**: F1.1, F1.2, F1.3ï¼ˆæµ‹è¯•è¦†ç›–ï¼‰

---

### TASK-008: é›†æˆæµ‹è¯• - APIå“åº”

**ä¼˜å…ˆçº§**: P0 | **é¢„ä¼°å·¥æ—¶**: 0.1å¤© | **çŠ¶æ€**: [ ] å¾…å¼€å§‹

**ä»»åŠ¡æè¿°**:
ä¸ºChartDataServiceçš„buy_signalså­—æ®µç¼–å†™é›†æˆæµ‹è¯•ã€‚

**æ–‡ä»¶å˜æ›´**:
| æ–‡ä»¶ | æ“ä½œ | å˜æ›´å†…å®¹ |
|------|------|----------|
| `ddps_z/tests/test_chart_data_api.py` | ğŸ“ æ‰©å±• | æ–°å¢buy_signalsæµ‹è¯• |

**æµ‹è¯•ç”¨ä¾‹æ¸…å•**:

```python
class TestChartDataAPIBuySignals(TestCase):
    """ChartDataAPI buy_signalså­—æ®µé›†æˆæµ‹è¯•"""

    def test_api_response_contains_buy_signals_field(self):
        """APIå“åº”åŒ…å«buy_signalså­—æ®µ"""
        pass

    def test_buy_signals_structure_matches_specification(self):
        """buy_signalsæ•°æ®ç»“æ„ç¬¦åˆè§„æ ¼"""
        pass

    def test_existing_fields_unchanged(self):
        """ç°æœ‰å­—æ®µï¼ˆcandles, ema, bands, zscore, fanï¼‰å®Œå…¨ä¸å˜"""
        pass

    def test_empty_buy_signals_when_no_triggers(self):
        """æ— è§¦å‘æ—¶è¿”å›ç©ºæ•°ç»„"""
        pass

    def test_response_time_increment_under_50ms(self):
        """å“åº”æ—¶é—´å¢é‡ < 50ms"""
        pass

    def test_graceful_degradation_on_calculation_error(self):
        """è®¡ç®—å¼‚å¸¸æ—¶ä¼˜é›…é™çº§ï¼ˆè¿”å›ç©ºæ•°ç»„ï¼‰"""
        pass
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡
- [ ] APIå“åº”ç»“æ„æ­£ç¡®
- [ ] æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡

**ä¾èµ–å…³ç³»**:
- ä¾èµ–: TASK-002, TASK-007
- è¢«ä¾èµ–: TASK-009

**å¯¹åº”åŠŸèƒ½ç‚¹**: F4.1ï¼ˆæµ‹è¯•è¦†ç›–ï¼‰

---

### TASK-009: E2Eæµ‹è¯• - å‰ç«¯äº¤äº’

**ä¼˜å…ˆçº§**: P1 | **é¢„ä¼°å·¥æ—¶**: 0.1å¤© | **çŠ¶æ€**: [ ] å¾…å¼€å§‹

**ä»»åŠ¡æè¿°**:
æ‰‹åŠ¨E2Eæµ‹è¯•å‰ç«¯äº¤äº’åŠŸèƒ½ã€‚

**æµ‹è¯•åœºæ™¯**:

| æµ‹è¯•åœºæ™¯ | éªŒè¯ç‚¹ | é¢„æœŸç»“æœ |
|---------|--------|----------|
| Markersæ¸²æŸ“ | æ‰“å¼€è¯¦æƒ…é¡µï¼Œè§‚å¯ŸKçº¿å›¾ | ç»¿è‰²å‘ä¸Šç®­å¤´æ­£ç¡®æ˜¾ç¤º |
| Hover Card | æ‚¬åœåœ¨ä¹°å…¥ç‚¹æ ‡è®°ä¸Š | Cardç«‹å³æ˜¾ç¤ºï¼Œå†…å®¹å®Œæ•´ |
| Clickå›ºå®š | ç‚¹å‡»ä¹°å…¥ç‚¹æ ‡è®° | Cardå›ºå®šæ˜¾ç¤º |
| ESCå…³é—­ | æŒ‰ESCé”® | Cardå…³é—­ |
| ç­›é€‰-å…¨éƒ¨ | ç‚¹å‡»"å…¨éƒ¨"æŒ‰é’® | æ˜¾ç¤ºæ‰€æœ‰ä¹°å…¥ç‚¹ |
| ç­›é€‰-ç­–ç•¥1 | ç‚¹å‡»"ç­–ç•¥1"æŒ‰é’® | åªæ˜¾ç¤ºç­–ç•¥1ä¹°å…¥ç‚¹ |
| ç­›é€‰-ç­–ç•¥2 | ç‚¹å‡»"ç­–ç•¥2"æŒ‰é’® | åªæ˜¾ç¤ºç­–ç•¥2ä¹°å…¥ç‚¹ |
| ç­›é€‰æŒä¹…åŒ– | åˆ·æ–°é¡µé¢ | ç­›é€‰çŠ¶æ€ä¿æŒ |
| æ—¶é—´èŒƒå›´åˆ‡æ¢ | åˆ‡æ¢æ—¶é—´èŒƒå›´ | ä¹°å…¥ç‚¹æ­£ç¡®æ›´æ–° |

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰æµ‹è¯•åœºæ™¯é€šè¿‡
- [ ] äº¤äº’æµç•…ï¼Œæ— å¡é¡¿
- [ ] æ— JavaScripté”™è¯¯

**ä¾èµ–å…³ç³»**:
- ä¾èµ–: TASK-004, TASK-006, TASK-008
- è¢«ä¾èµ–: TASK-011

**å¯¹åº”åŠŸèƒ½ç‚¹**: F2.1, F2.2, F2.3, F2.4ï¼ˆE2EéªŒè¯ï¼‰

---

### TASK-010: æ¨¡å—å¯¼å‡ºé…ç½®

**ä¼˜å…ˆçº§**: P0 | **é¢„ä¼°å·¥æ—¶**: 0.05å¤© | **çŠ¶æ€**: [ ] å¾…å¼€å§‹

**ä»»åŠ¡æè¿°**:
åœ¨calculators/__init__.pyä¸­å¯¼å‡ºBuySignalCalculatorã€‚

**æ–‡ä»¶å˜æ›´**:
| æ–‡ä»¶ | æ“ä½œ | å˜æ›´å†…å®¹ |
|------|------|----------|
| `ddps_z/calculators/__init__.py` | ğŸ“ æ‰©å±• | æ–°å¢ `BuySignalCalculator` å¯¼å‡º |

**å®ç°è¦ç‚¹**:

```python
# ddps_z/calculators/__init__.py
from .ema_calculator import EMACalculator
from .ewma_calculator import EWMACalculator
from .zscore_calculator import ZScoreCalculator
from .inertia_calculator import InertiaCalculator
from .adx_calculator import ADXCalculator
from .buy_signal_calculator import BuySignalCalculator  # ğŸ†• æ–°å¢

__all__ = [
    'EMACalculator',
    'EWMACalculator',
    'ZScoreCalculator',
    'InertiaCalculator',
    'ADXCalculator',
    'BuySignalCalculator',  # ğŸ†• æ–°å¢
]
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] `from ddps_z.calculators import BuySignalCalculator` æ­£å¸¸å·¥ä½œ
- [ ] ä¸å½±å“ç°æœ‰å¯¼å‡º

**ä¾èµ–å…³ç³»**:
- ä¾èµ–: TASK-001
- è¢«ä¾èµ–: æ— 

---

### TASK-011: å›å½’æµ‹è¯•ä¸éªŒæ”¶

**ä¼˜å…ˆçº§**: P0 | **é¢„ä¼°å·¥æ—¶**: 0.15å¤© | **çŠ¶æ€**: [ ] å¾…å¼€å§‹

**ä»»åŠ¡æè¿°**:
æ‰§è¡Œå®Œæ•´å›å½’æµ‹è¯•ï¼Œç¡®ä¿ç°æœ‰DDPS-ZåŠŸèƒ½ä¸å—å½±å“ã€‚

**å›å½’æµ‹è¯•æ¸…å•**:

| åŠŸèƒ½ | æµ‹è¯•ç‚¹ | é¢„æœŸç»“æœ |
|------|--------|----------|
| EMAæ›²çº¿ | æ‰“å¼€è¯¦æƒ…é¡µ | EMAæ›²çº¿æ­£å¸¸æ˜¾ç¤º |
| æ¦‚ç‡å¸¦ | æ‰“å¼€è¯¦æƒ…é¡µ | P5/P95æ¦‚ç‡å¸¦æ­£å¸¸æ˜¾ç¤º |
| Z-Score | æ‰“å¼€è¯¦æƒ…é¡µ | Z-ScoreæŒ‡æ ‡æ­£å¸¸æ˜¾ç¤º |
| æƒ¯æ€§æ‰‡é¢ | æ‰“å¼€è¯¦æƒ…é¡µ | æƒ¯æ€§æ‰‡é¢æ­£å¸¸æ˜¾ç¤º |
| å››è±¡é™ä¿¡å· | æ‰“å¼€è¯¦æƒ…é¡µ | å››è±¡é™ä¿¡å·æ­£å¸¸æ˜¾ç¤º |
| æ—¶é—´èŒƒå›´åˆ‡æ¢ | åˆ‡æ¢1å‘¨/1æœˆ/3æœˆ | æ‰€æœ‰å›¾è¡¨å…ƒç´ æ­£ç¡®æ›´æ–° |
| Kçº¿å‘¨æœŸåˆ‡æ¢ | åˆ‡æ¢1h/4h/1d | æ‰€æœ‰å›¾è¡¨å…ƒç´ æ­£ç¡®æ›´æ–° |
| äº¤æ˜“å¯¹åˆ‡æ¢ | åˆ‡æ¢BTC/ETH | æ‰€æœ‰å›¾è¡¨å…ƒç´ æ­£ç¡®æ›´æ–° |

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰ç°æœ‰åŠŸèƒ½æ­£å¸¸
- [ ] æ— æ€§èƒ½é€€åŒ–
- [ ] æ— æ–°å¢æ§åˆ¶å°é”™è¯¯

**ä¾èµ–å…³ç³»**:
- ä¾èµ–: TASK-009
- è¢«ä¾èµ–: æ— ï¼ˆç»ˆç‚¹ä»»åŠ¡ï¼‰

---

## æ‰§è¡Œé¡ºåºå»ºè®®

### ç¬¬1é˜¶æ®µï¼šæ ¸å¿ƒåç«¯ï¼ˆDay 1ä¸Šåˆï¼‰
1. TASK-001: BuySignalCalculator æ ¸å¿ƒè®¡ç®—å™¨
2. TASK-007: å•å…ƒæµ‹è¯•ï¼ˆå¯ä¸TASK-001å¹¶è¡Œå¼€å‘ï¼‰
3. TASK-010: æ¨¡å—å¯¼å‡ºé…ç½®

### ç¬¬2é˜¶æ®µï¼šAPIæ‰©å±•ï¼ˆDay 1ä¸‹åˆï¼‰
4. TASK-002: ChartDataService APIæ‰©å±•
5. TASK-008: é›†æˆæµ‹è¯•

### ç¬¬3é˜¶æ®µï¼šå‰ç«¯å®ç°ï¼ˆDay 2ä¸Šåˆï¼‰
6. TASK-003: ä¹°å…¥ç‚¹Markersæ¸²æŸ“
7. TASK-006: ç­–ç•¥ç­›é€‰æ§ä»¶ï¼ˆå¯ä¸TASK-003å¹¶è¡Œï¼‰
8. TASK-004: Hoveræ‚¬æµ®Card
9. TASK-005: Clickå›ºå®šCard

### ç¬¬4é˜¶æ®µï¼šæµ‹è¯•éªŒæ”¶ï¼ˆDay 2ä¸‹åˆï¼‰
10. TASK-009: E2Eæµ‹è¯•
11. TASK-011: å›å½’æµ‹è¯•ä¸éªŒæ”¶

---

## Gate 5 æ£€æŸ¥ç»“æœ

### æ£€æŸ¥æ¸…å•

#### ä»»åŠ¡å®Œæ•´æ€§
- [x] æ‰€æœ‰PRDåŠŸèƒ½ç‚¹éƒ½æœ‰å¯¹åº”ä»»åŠ¡
- [x] æ‰€æœ‰æ¶æ„ç»„ä»¶éƒ½æœ‰å®ç°ä»»åŠ¡
- [x] æµ‹è¯•ä»»åŠ¡è¦†ç›–æ ¸å¿ƒåŠŸèƒ½
- [x] å›å½’æµ‹è¯•ä»»åŠ¡å·²åŒ…å«

#### ä»»åŠ¡ç²’åº¦
- [x] æ¯ä¸ªä»»åŠ¡å¯åœ¨0.5å¤©å†…å®Œæˆ
- [x] ä»»åŠ¡èŒè´£å•ä¸€ï¼Œè¾¹ç•Œæ¸…æ™°
- [x] éªŒæ”¶æ ‡å‡†å¯æµ‹è¯•ã€å¯é‡åŒ–

#### ä¾èµ–å…³ç³»
- [x] ä¾èµ–å…³ç³»å›¾æ¸…æ™°
- [x] æ— å¾ªç¯ä¾èµ–
- [x] å…³é”®è·¯å¾„å·²è¯†åˆ«
- [x] å¹¶è¡Œå¼€å‘æœºä¼šå·²æ ‡æ³¨

#### å®ç°æŒ‡å¯¼
- [x] æ¯ä¸ªä»»åŠ¡æœ‰æ˜ç¡®çš„å®ç°è¦ç‚¹
- [x] æ¥å£å¥‘çº¦å·²å®šä¹‰
- [x] ä»£ç ç¤ºä¾‹å·²æä¾›

**Gate 5 æ£€æŸ¥ç»“æœ**: âœ… **é€šè¿‡** - å¯ä»¥è¿›å…¥P6é˜¶æ®µï¼ˆå¼€å‘å®ç°ï¼‰

---

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. âœ… **P5ä»»åŠ¡è§„åˆ’å·²å®Œæˆ**
2. â­ï¸ **è¿›å…¥P6é˜¶æ®µ**ï¼šå¼€å§‹æŒ‰ä»»åŠ¡æ¸…å•æ‰§è¡Œå¼€å‘
3. ğŸ¯ **å»ºè®®é¦–å…ˆæ‰§è¡Œ**: TASK-001ï¼ˆBuySignalCalculatoræ ¸å¿ƒè®¡ç®—å™¨ï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0
**ç”Ÿæˆæ—¶é—´**: 2026-01-06
**çŠ¶æ€**: âœ… å·²å®Œæˆï¼ˆGate 5é€šè¿‡ï¼‰
