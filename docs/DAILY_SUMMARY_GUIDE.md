# ğŸ“Š æ¯æ—¥æ–°å¸æ±‡æ€»è„šæœ¬ä½¿ç”¨æŒ‡å—

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

æ¯æ—¥æ–°å¸æ±‡æ€»è„šæœ¬ç”¨äºè‡ªåŠ¨ç»Ÿè®¡å’Œæ¨é€å½“æ—¥å‘ç°çš„æ‰€æœ‰æ–°å¸ä¸Šçº¿ä¿¡æ¯ï¼Œå³ä½¿æ²¡æœ‰å‘ç°æ–°å¸ä¹Ÿä¼šæ¨é€æ±‡æ€»æŠ¥å‘Šï¼Œç¡®ä¿æ¯æ—¥éƒ½æœ‰ä¿¡æ¯åé¦ˆã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ‰‹åŠ¨æ‰§è¡Œ

```bash
# ç»Ÿè®¡æ˜¨æ—¥æ–°å¸ï¼ˆé»˜è®¤ï¼‰
python manage.py daily_summary

# ç»Ÿè®¡æŒ‡å®šæ—¥æœŸ
python manage.py daily_summary --date 2025-11-14

# è‡ªå®šä¹‰äº¤æ˜“æ‰€
python manage.py daily_summary --exchanges binance,bybit,hyperliquid,kucoin

# è·³è¿‡æ¨é€ï¼ˆä»…ç”ŸæˆæŠ¥å‘Šï¼‰
python manage.py daily_summary --skip-notification
```

### Cron å®šæ—¶æ‰§è¡Œ

ç¼–è¾‘ crontabï¼š
```bash
crontab -e
```

æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼ˆæ¯æ—¥æ—©ä¸Š9ç‚¹æ‰§è¡Œï¼‰ï¼š
```bash
# æ¯æ—¥ 9:00 æ‰§è¡Œ
0 9 * * * cd /path/to/your/project && /usr/bin/python3 manage.py daily_summary >> /var/log/daily_summary.log 2>&1

# æ¯æ—¥ 18:00 æ‰§è¡Œï¼ˆæ™šä¸Šæ€»ç»“ï¼‰
0 18 * * * cd /path/to/your/project && /usr/bin/python3 manage.py daily_summary >> /var/log/daily_summary.log 2>&1

# å·¥ä½œæ—¥æ—©ä¸Š 9:00 æ‰§è¡Œï¼ˆå‘¨ä¸€åˆ°å‘¨äº”ï¼‰
0 9 * * 1-5 cd /path/to/your/project && /usr/bin/python3 manage.py daily_summary >> /var/log/daily_summary.log 2>&1
```

## ğŸ“‹ å‘½ä»¤å‚æ•°

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ | ç¤ºä¾‹ |
|------|------|--------|------|
| `--date` | æŒ‡å®šç»Ÿè®¡æ—¥æœŸï¼Œæ ¼å¼ï¼šYYYY-MM-DD | æ˜¨æ—¥ | `--date 2025-11-14` |
| `--exchanges` | æŒ‡å®šäº¤æ˜“æ‰€ä»£ç ï¼ˆé€—å·åˆ†éš”ï¼‰ | `binance,bybit,hyperliquid` | `--exchanges binance,bybit` |
| `--skip-notification` | è·³è¿‡æ¨é€ï¼Œä»…ç”ŸæˆæŠ¥å‘Š | False | `--skip-notification` |

### æ”¯æŒçš„äº¤æ˜“æ‰€

- `binance` - å¸å®‰
- `bybit` - Bybit
- `hyperliquid` - Hyperliquid
- `kucoin` - KuCoin
- `okx` - OKX
- `mexc` - MEXC
- `gate` - Gate.io
- `bingx` - BingX
- `bitget` - Bitget

## ğŸ“Š æ¨é€æ ¼å¼ç¤ºä¾‹

### æœ‰æ–°å¸çš„æƒ…å†µ

**æ¨é€æ ‡é¢˜**ï¼š
```
ğŸ“Š æ¯æ—¥æ–°å¸æ±‡æ€» - 2025-11-14 (å…± 15 ä¸ª)
```

**æ¨é€å†…å®¹**ï¼š
```
ç»Ÿè®¡æ—¥æœŸ: 2025-11-14
ç»Ÿè®¡æ—¶é—´: 2025-11-14 09:00:00

ğŸ“Š æ€»ä½“ç»Ÿè®¡:
  æ€»è®¡: 15 ä¸ªæ–°å¸
  ç°è´§: 8 ä¸ª
  åˆçº¦: 5 ä¸ª
  ç°è´§+åˆçº¦: 2 ä¸ª

ğŸ¢ æŒ‰äº¤æ˜“æ‰€åˆ†å¸ƒ:
  Binance: 6 ä¸ª
  Bybit: 4 ä¸ª
  Hyperliquid: 3 ä¸ª
  KuCoin: 2 ä¸ª

ğŸ’ è¯¦ç»†æ¸…å•:

ã€Binanceã€‘
  â€¢ PEPE (ç°è´§) - ç½®ä¿¡åº¦ 95% - å…¬å‘Šæ—¶é—´ 11-14 08:30
  â€¢ SHIB (ç°è´§) - ç½®ä¿¡åº¦ 90% - å…¬å‘Šæ—¶é—´ 11-14 09:15
  â€¢ DOGE (åˆçº¦) - ç½®ä¿¡åº¦ 88% - å…¬å‘Šæ—¶é—´ 11-14 10:00

ã€Bybitã€‘
  â€¢ MATIC (ç°è´§+åˆçº¦) - ç½®ä¿¡åº¦ 92% - å…¬å‘Šæ—¶é—´ 11-14 11:30
  â€¢ SOL (ç°è´§) - ç½®ä¿¡åº¦ 85% - å…¬å‘Šæ—¶é—´ 11-14 12:00

ğŸ’¡ æç¤º:
â€¢ ç½®ä¿¡åº¦ â‰¥ 50% çš„æ–°å¸æ‰ä¼šè¢«æ¨é€
â€¢ ç‚¹å‡»å…¬å‘Šé“¾æ¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
â€¢ å»ºè®®ç»“åˆæŠ€æœ¯åˆ†æå’ŒåŸºæœ¬é¢åšå†³ç­–
```

### æ— æ–°å¸çš„æƒ…å†µ

**æ¨é€æ ‡é¢˜**ï¼š
```
ğŸ“Š æ¯æ—¥æ–°å¸æ±‡æ€» - 2025-11-14 (æ— æ–°å¸)
```

**æ¨é€å†…å®¹**ï¼š
```
ç»Ÿè®¡æ—¥æœŸ: 2025-11-14
ç›‘æ§äº¤æ˜“æ‰€: binance, bybit, hyperliquid

ğŸ˜´ ä»Šæ—¥æœªå‘ç°æ–°å¸ä¸Šçº¿

å¯èƒ½åŸå› :
â€¢ å¸‚åœºä¼‘æ¯æ—¥ï¼Œæ— æ–°å¸å…¬å‘Š
â€¢ æ–°å¸å…¬å‘Šè¾ƒå°‘ï¼Œæœªè¾¾è¯†åˆ«é˜ˆå€¼
â€¢ äº¤æ˜“æ‰€æš‚æ— æ–°å¸ä¸Šçº¿è®¡åˆ’

ç»Ÿè®¡æ—¶é—´: 2025-11-14 09:00:00
```

## âš™ï¸ é…ç½®è¯´æ˜

### 1. ç½®ä¿¡åº¦é˜ˆå€¼

è„šæœ¬åªä¼šæ¨é€ç½®ä¿¡åº¦ â‰¥ 0.5 çš„æ–°å¸ã€‚å¦‚éœ€è°ƒæ•´ï¼Œä¿®æ”¹ `monitor/services/identifier.py`ï¼š

```python
# ç¬¬205è¡Œ
if confidence >= 0.5:  # è°ƒæ•´æ­¤å€¼
    status = Listing.CONFIRMED
```

### 2. æ¨é€æœåŠ¡

è„šæœ¬ä½¿ç”¨æ…§è¯šå‘Šè­¦æ¨é€æœåŠ¡ï¼Œé»˜è®¤é…ç½®ï¼š
- Token: `6020867bc6334c609d4f348c22f90f14`
- Channel: `symbal_rate`
- API: `https://huicheng.powerby.com.cn/api/simple/alert/`

å¦‚éœ€è‡ªå®šä¹‰æ¨é€æœåŠ¡ï¼Œä¿®æ”¹ `monitor/services/notifier.py` ä¸­çš„ `AlertPushService` ç±»ã€‚

### 3. æ—¶åŒºè®¾ç½®

è„šæœ¬ä½¿ç”¨ Django æ—¶åŒºè®¾ç½®ï¼Œé»˜è®¤ç»Ÿè®¡æ˜¨æ—¥æ•°æ®ã€‚å¦‚éœ€ä¿®æ”¹ç»Ÿè®¡é€»è¾‘ï¼Œç¼–è¾‘ `daily_summary.py` ç¬¬51è¡Œï¼š

```python
# é»˜è®¤ç»Ÿè®¡æ˜¨æ—¥
target_date = timezone.now().date() - timedelta(days=1)

# å¦‚éœ€ç»Ÿè®¡ä»Šæ—¥ï¼Œæ”¹ä¸ºï¼š
# target_date = timezone.now().date()
```

## ğŸ› å¸¸è§é—®é¢˜

### Q1: å®šæ—¶ä»»åŠ¡ä¸æ‰§è¡Œ

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. ç¡®è®¤ cron æœåŠ¡è¿è¡Œï¼š`systemctl status cron`
2. æ£€æŸ¥ cron æ—¥å¿—ï¼š`tail -f /var/log/cron`
3. æ‰‹åŠ¨æ‰§è¡Œè„šæœ¬éªŒè¯ï¼š`python manage.py daily_summary --skip-notification`
4. æ£€æŸ¥é¡¹ç›®è·¯å¾„å’Œ Python è·¯å¾„æ˜¯å¦æ­£ç¡®

### Q2: æ¨é€å¤±è´¥

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æµ‹è¯•æ¨é€æœåŠ¡
python manage.py daily_summary --skip-notification

# æ£€æŸ¥æ—¥å¿—
tail -f /var/log/daily_summary.log
```

**å¸¸è§åŸå› **ï¼š
- ç½‘ç»œè¿æ¥é—®é¢˜
- API Token å¤±æ•ˆ
- æ¨é€æœåŠ¡ä¸å¯ç”¨

### Q3: ç»Ÿè®¡æ•°æ®ä¸å‡†ç¡®

**å¯èƒ½åŸå› **ï¼š
1. æ—¶åŒºè®¾ç½®é—®é¢˜
2. äº¤æ˜“æ‰€å…¬å‘Šæ—¶é—´ä¸è¯†åˆ«æ—¶é—´ä¸ä¸€è‡´
3. æ•°æ®åº“æ•°æ®ä¸å®Œæ•´

**è§£å†³æ–¹æ³•**ï¼š
```bash
# æ‰‹åŠ¨æŒ‡å®šæ—¥æœŸéªŒè¯
python manage.py daily_summary --date 2025-11-14 --skip-notification

# æŸ¥çœ‹è¯¦ç»†è¯†åˆ«æ—¥å¿—
python manage.py identify_listings --show-details
```

## ğŸ“ˆ é«˜çº§ç”¨æ³•

### 1. è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼

ä¿®æ”¹ `daily_summary.py` ä¸­çš„ `_generate_detailed_report` æ–¹æ³•æ¥è‡ªå®šä¹‰æŠ¥å‘Šæ ¼å¼ã€‚

### 2. é›†æˆå…¶ä»–é€šçŸ¥æ–¹å¼

é™¤äº†æ…§è¯šæ¨é€ï¼Œè¿˜å¯ä»¥é›†æˆï¼š
- Telegram Bot
- é‚®ä»¶é€šçŸ¥
- Slack Webhook

### 3. æ•°æ®åˆ†æ

å¯ä»¥å°†æ±‡æ€»æ•°æ®å¯¼å‡ºåˆ° CSV æˆ–æ•°æ®åº“ï¼š
```python
# åœ¨ handle æ–¹æ³•æœ«å°¾æ·»åŠ 
if options['export_csv']:
    self._export_to_csv(listings)
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Django æ—¥å¿—ï¼š`tail -f logs/django.log`
2. æ¨é€æ—¥å¿—ï¼š`tail -f logs/push.log`
3. ç³»ç»Ÿæ—¥å¿—ï¼š`tail -f /var/log/syslog`

## ğŸ“ æ›´æ–°æ—¥å¿—

**v1.0.0** (2025-11-14)
- âœ… åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… æ”¯æŒæ¯æ—¥æ±‡æ€»ç»Ÿè®¡
- âœ… æ”¯æŒç©ºç»“æœæ¨é€
- âœ… å…¼å®¹ cron å®šæ—¶ä»»åŠ¡